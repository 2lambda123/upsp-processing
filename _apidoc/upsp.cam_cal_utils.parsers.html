
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>upsp.cam_cal_utils.parsers &#8212; uPSP  documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="upsp.cam_cal_utils.photogrammetry" href="upsp.cam_cal_utils.photogrammetry.html" />
    <link rel="prev" title="upsp.cam_cal_utils.internal_calibration" href="upsp.cam_cal_utils.internal_calibration.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  <div class="document">
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">uPSP</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quick-start.html">Quick Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="../applications.html">Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="../file-formats.html">File Formats</a></li>
<li class="toctree-l1"><a class="reference internal" href="../terminology.html">Terminology</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dependencies.html">Third-Party Dependencies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../swdd.html">Software Design</a></li>
<li class="toctree-l1"><a class="reference internal" href="../known-issues.html">Known Issues</a></li>
<li class="toctree-l1"><a class="reference internal" href="../citing.html">Citing this work</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="upsp.html"><code class="docutils literal notranslate"><span class="pre">upsp</span></code> Python API</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="upsp.cam_cal_utils.html"><code class="docutils literal notranslate"><span class="pre">upsp.cam_cal_utils</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="upsp.intensity_mapping.html"><code class="docutils literal notranslate"><span class="pre">upsp.intensity_mapping</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="upsp.kulite_comparison.html"><code class="docutils literal notranslate"><span class="pre">upsp.kulite_comparison</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="upsp.processing.html"><code class="docutils literal notranslate"><span class="pre">upsp.processing</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="upsp.target_localization.html"><code class="docutils literal notranslate"><span class="pre">upsp.target_localization</span></code></a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="upsp.html"><code class="docutils literal notranslate"><span class="pre">upsp</span></code> Python API</a><ul>
  <li><a href="upsp.cam_cal_utils.html"><code class="docutils literal notranslate"><span class="pre">upsp.cam_cal_utils</span></code></a><ul>
      <li>Previous: <a href="upsp.cam_cal_utils.internal_calibration.html" title="previous chapter"><code class="docutils literal notranslate"><span class="pre">upsp.cam_cal_utils.internal_calibration</span></code></a></li>
      <li>Next: <a href="upsp.cam_cal_utils.photogrammetry.html" title="next chapter"><code class="docutils literal notranslate"><span class="pre">upsp.cam_cal_utils.photogrammetry</span></code></a></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="module-upsp.cam_cal_utils.parsers">
<span id="upsp-cam-cal-utils-parsers"></span><h1><code class="docutils literal notranslate"><span class="pre">upsp.cam_cal_utils.parsers</span></code><a class="headerlink" href="#module-upsp.cam_cal_utils.parsers" title="Permalink to this headline">¶</a></h1>
<dl class="py function">
<dt class="sig sig-object py" id="upsp.cam_cal_utils.parsers.convert_cv2_cm_to_uPSP_cm">
<span class="sig-name descname"><span class="pre">convert_cv2_cm_to_uPSP_cm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cameraMatrix</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/upsp/cam_cal_utils/parsers.html#convert_cv2_cm_to_uPSP_cm"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#upsp.cam_cal_utils.parsers.convert_cv2_cm_to_uPSP_cm" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a standard camera matrix to a uPSP camera matrix</p>
<p>OpenCV (and the standard) cameraMatrix uses the absolute position of the optical
principal point. Since uPSP often crops images, the absoulte position varies
from configuration to configuration even if the optics haven’t changed. So instead,
the position of the principal point relative to the image center is saved.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cameraMatrix</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">shape</span> <span class="pre">(3</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">3)</span></code>) – Camera matrix of the form: <code class="docutils literal notranslate"><span class="pre">[[fx,</span> <span class="pre">0,</span> <span class="pre">cx],</span> <span class="pre">[0,</span> <span class="pre">fy,</span> <span class="pre">cy],</span> <span class="pre">[0,</span> <span class="pre">0,</span> <span class="pre">1]]</span></code>
where f is the focal length and (cx, cy) is
the absolute position of the optical principal point</p></li>
<li><p><strong>dims</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">length</span> <span class="pre">2</span></code>) – Image dimensions (width, height)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>uPSP_cameraMatrix</strong> – Converted camera matrix of the form: <code class="docutils literal notranslate"><span class="pre">[[fx,</span> <span class="pre">0,</span> <span class="pre">dcx],</span> <span class="pre">[0,</span> <span class="pre">fy,</span> <span class="pre">dcy],</span> <span class="pre">[0,</span> <span class="pre">0,</span> <span class="pre">1]]</span></code>
cx = w/2 + dcx and cy = h/2 + dcy where w and h are the image width and height</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">shape</span> <span class="pre">(3</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">3)</span></code></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#upsp.cam_cal_utils.parsers.convert_uPSP_cm_to_cv2_cm" title="upsp.cam_cal_utils.parsers.convert_uPSP_cm_to_cv2_cm"><code class="xref py py-obj docutils literal notranslate"><span class="pre">convert_uPSP_cm_to_cv2_cm</span></code></a></dt><dd><p>inverse conversion</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="upsp.cam_cal_utils.parsers.convert_uPSP_cm_to_cv2_cm">
<span class="sig-name descname"><span class="pre">convert_uPSP_cm_to_cv2_cm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">uPSP_cameraMatrix</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/upsp/cam_cal_utils/parsers.html#convert_uPSP_cm_to_cv2_cm"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#upsp.cam_cal_utils.parsers.convert_uPSP_cm_to_cv2_cm" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a uPSP camera matrix to a standard camera matrix</p>
<p>OpenCV (and the standard) cameraMatrix uses the absolute position of the optical
principal point. Since uPSP often crops images, the absoulte position varies
from configuration to configuration even if the optics haven’t changed. So instead,
the position of the principal point relative to the image center is saved. To use
OpenCV functions, it has to be converted back to the standard OpenCV camera matrix.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>uPSP_cameraMatrix</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">shape</span> <span class="pre">(3</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">3)</span></code>) – Camera matrix of the form: <code class="docutils literal notranslate"><span class="pre">[[fx,</span> <span class="pre">0,</span> <span class="pre">cx],</span> <span class="pre">[0,</span> <span class="pre">fy,</span> <span class="pre">cy],</span> <span class="pre">[0,</span> <span class="pre">0,</span> <span class="pre">1]]</span></code>
where f is the focal length and (cx, cy) is
the absolute position of the optical principal point</p></li>
<li><p><strong>dims</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">length</span> <span class="pre">2</span></code>) – Image dimensions (width, height)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>cameraMatrix</strong> – Converted camera matrix of the form: <code class="docutils literal notranslate"><span class="pre">[[fx,</span> <span class="pre">0,</span> <span class="pre">cx],</span> <span class="pre">[0,</span> <span class="pre">fy,</span> <span class="pre">cy],</span> <span class="pre">[0,</span> <span class="pre">0,</span> <span class="pre">1]]</span></code>
cx = w/2 + dcx and cy = h/2 + dcy where w and h are the image width and height</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">shape</span> <span class="pre">(3</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">3)</span></code></p>
</dd>
</dl>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<dl class="simple">
<dt><a class="reference internal" href="#upsp.cam_cal_utils.parsers.convert_uPSP_cm_to_cv2_cm" title="upsp.cam_cal_utils.parsers.convert_uPSP_cm_to_cv2_cm"><code class="xref py py-obj docutils literal notranslate"><span class="pre">convert_uPSP_cm_to_cv2_cm</span></code></a></dt><dd><p>inverse conversion</p>
</dd>
</dl>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="upsp.cam_cal_utils.parsers.read_camera_tunnel_cal">
<span class="sig-name descname"><span class="pre">read_camera_tunnel_cal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cal_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">read_sensor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/upsp/cam_cal_utils/parsers.html#read_camera_tunnel_cal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#upsp.cam_cal_utils.parsers.read_camera_tunnel_cal" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the internal (intrinsic) and external (extrinsic) camera calibration parameters</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cal_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) – Path to camera calibration</p></li>
<li><p><strong>dims</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a>) – Image dimensions (image height, image width)</p></li>
<li><p><strong>read_sensor</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>, <em>optional</em>) – If True, additionally read and return the sensor resolution and size</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>cameraMatrix</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">shape</span> <span class="pre">(3</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">3)</span></code>) – Camera matrix of the form <code class="docutils literal notranslate"><span class="pre">[[fx,</span> <span class="pre">0,</span> <span class="pre">cx],</span> <span class="pre">[0,</span> <span class="pre">fy,</span> <span class="pre">cy],</span> <span class="pre">[0,</span> <span class="pre">0,</span> <span class="pre">1]]</span></code>
where f is the focal length and (cx, cy)
is the position of the optical principal point relative to the image center</p></li>
<li><p><strong>distCoeffs</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">shape</span> <span class="pre">(5,)</span></code>) – Distortion coefficients of the form <code class="docutils literal notranslate"><span class="pre">[k1,</span> <span class="pre">k2,</span> <span class="pre">p1,</span> <span class="pre">p2,</span> <span class="pre">k3]</span></code>
where k1, k2, and k3 are the radial distortion terms and p1 and p2 are the
tangential distortion terms</p></li>
<li><p><strong>rmat</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">shape</span> <span class="pre">(3</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">3)</span></code>) – Rotation matrix from camera to tunnel</p></li>
<li><p><strong>tvec</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">shape</span> <span class="pre">(3,)</span></code>) – Translation vector from camera to tunnel</p></li>
<li><p><strong>sensor_resolution</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">shape</span> <span class="pre">(2,)</span></code>) – Sensor size of camera in pixels, only returned if <cite>read_sensor</cite> is True</p></li>
<li><p><strong>sensor_size</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">shape</span> <span class="pre">(2,)</span></code>) – Sensor size of camera in inches, only returned if <cite>read_sensor</cite> is True</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="upsp.cam_cal_utils.parsers.read_internal_params">
<span class="sig-name descname"><span class="pre">read_internal_params</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">internal_cal_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dims</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">read_sensor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/upsp/cam_cal_utils/parsers.html#read_internal_params"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#upsp.cam_cal_utils.parsers.read_internal_params" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the internal (intrinsic) camera parameters</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>internal_cal_dir</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) – Path to internal calibrations</p></li>
<li><p><strong>dims</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#tuple" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></a>) – Image dimensions (image height, image width)</p></li>
<li><p><strong>read_sensor</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code></a>, <em>optional</em>) – If True, additionally read and return the sensor resolution and size</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><ul class="simple">
<li><p><strong>cameraMatrix</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">shape</span> <span class="pre">(3</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">3)</span></code>) – Camera matrix of the form <code class="docutils literal notranslate"><span class="pre">[[fx,</span> <span class="pre">0,</span> <span class="pre">cx],</span> <span class="pre">[0,</span> <span class="pre">fy,</span> <span class="pre">cy],</span> <span class="pre">[0,</span> <span class="pre">0,</span> <span class="pre">1]]</span></code>
where f is the focal length and (cx, cy)
is the position of the optical principal point relative to the image center</p></li>
<li><p><strong>distCoeffs</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">shape</span> <span class="pre">(5,)</span></code>) – Distortion coefficients of the form <code class="docutils literal notranslate"><span class="pre">[k1,</span> <span class="pre">k2,</span> <span class="pre">p1,</span> <span class="pre">p2,</span> <span class="pre">k3]</span></code>
where k1, k2, and k3 are the radial distortion terms and p1 and p2 are the
tangential distortion terms</p></li>
<li><p><strong>sensor_resolution</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">shape</span> <span class="pre">(3,)</span></code>) – Camera sensor resolution, only returned if <cite>read_sensor</cite> is True</p></li>
<li><p><strong>sensor_size</strong> (<a class="reference external" href="https://numpy.org/doc/stable/reference/generated/numpy.ndarray.html#numpy.ndarray" title="(in NumPy v1.24)"><code class="xref py py-class docutils literal notranslate"><span class="pre">numpy.ndarray</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">shape</span> <span class="pre">(2,)</span></code>) – Camera sensor physical size, only returned if <cite>read_sensor</cite> is True</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="upsp.cam_cal_utils.parsers.read_json">
<span class="sig-name descname"><span class="pre">read_json</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/upsp/cam_cal_utils/parsers.html#read_json"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#upsp.cam_cal_utils.parsers.read_json" title="Permalink to this definition">¶</a></dt>
<dd><p>Safely reads a json file and returns the associated dict</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/glossary.html#term-path-like-object" title="(in Python v3.11)"><span class="xref std std-term">path-like</span></a>) – File path to the tgts file</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>dict of json file items</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="upsp.cam_cal_utils.parsers.read_pascal_voc">
<span class="sig-name descname"><span class="pre">read_pascal_voc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">annot_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/upsp/cam_cal_utils/parsers.html#read_pascal_voc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#upsp.cam_cal_utils.parsers.read_pascal_voc" title="Permalink to this definition">¶</a></dt>
<dd><p>Return image objects from a PASCAL VOC XML file</p>
<p>Reads the input file(s) and returns an list of dicts, where each dict contains the
class, bounding box, and flags of an image object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>annot_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> or <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) – This can be a string, or a list of strings (or list-like). Each string is the
path to a label</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>out</strong> – If <cite>annot_path</cite> is a single label path, the output is a list of dicts. If
<cite>annot_path</cite> is a list of label paths (or list-like), the output is a list of
lists, where each inner list if a list of dicts.
Each dict is represents an image object and has the keys ‘class’, ‘x1’,
‘x2’, ‘y1’, ‘y2’, ‘difficult’, and ‘truncated’.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a> or <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="upsp.cam_cal_utils.parsers.read_test_config">
<span class="sig-name descname"><span class="pre">read_test_config</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/upsp/cam_cal_utils/parsers.html#read_test_config"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#upsp.cam_cal_utils.parsers.read_test_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Safely reads a test config file and returns the associated dict with arrays</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> (<a class="reference external" href="https://docs.python.org/3/glossary.html#term-path-like-object" title="(in Python v3.11)"><span class="xref std std-term">path-like</span></a>) – File path to the tgts file</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>dict of json file items</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="upsp.cam_cal_utils.parsers.read_tgts">
<span class="sig-name descname"><span class="pre">read_tgts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tgts_file_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_target_types</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/upsp/cam_cal_utils/parsers.html#read_tgts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#upsp.cam_cal_utils.parsers.read_tgts" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the targets in the tgts file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>tgts_file_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) – File path to the tgts file</p></li>
<li><p><strong>output_target_types</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> of <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>, <em>optional</em>) – If not None, only targets with a type of or in <cite>output_target_types</cite> will be
read. If None, all target types will be read</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><p><strong>targets</strong> –</p>
<p>List of targets. Each target is of the form:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s1">&#39;target_type&#39;</span> <span class="p">:</span> <span class="n">class_string</span><span class="p">,</span> <span class="s1">&#39;tvec&#39;</span> <span class="p">:</span> <span class="p">[</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">],</span> <span class="s1">&#39;norm&#39;</span><span class="p">,</span> <span class="p">:</span> <span class="p">[</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">],</span>
    <span class="s1">&#39;size&#39;</span><span class="p">:</span> <span class="nb">float</span><span class="p">,</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="s1">&#39;idx&#39;</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="s1">&#39;zones&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></a> of <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="upsp.cam_cal_utils.parsers.read_wind_tunnel_data">
<span class="sig-name descname"><span class="pre">read_wind_tunnel_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">wtd_file_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">items</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">('ALPHA',</span> <span class="pre">'BETA',</span> <span class="pre">'PHI',</span> <span class="pre">'STRUTZ')</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/upsp/cam_cal_utils/parsers.html#read_wind_tunnel_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#upsp.cam_cal_utils.parsers.read_wind_tunnel_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Read specified wind tunnel data from <cite>wtd_file_path</cite></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>wtd_file_path</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code></a>) – Filepath to wind tunnel data file</p></li>
<li><p><strong>items</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">container</span></code>, <em>optional</em>) – Items requested from the file. By default ALPHA, BETA, PHI and STRUTZ are
returned.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>tunnel_vals</strong> – Dictionary with keys of specified items and values of associated wtd values.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#dict" title="(in Python v3.11)"><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></a></p>
</dd>
</dl>
</dd></dl>

</section>


          </div>
          
        </div>
      </div>
    <div class="clearer"></div>
  </div>
    <div class="footer">
      &copy;2021, uPSP Developers.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.5.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/_apidoc/upsp.cam_cal_utils.parsers.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>